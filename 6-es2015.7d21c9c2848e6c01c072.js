(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Vuud:function(l,n,t){"use strict";t.r(n);var e=t("8Y7J");class u{constructor(l,n){this.word=l,this.status=n}}var i=t("JQUC");class s{constructor(l){this.activatedRoute=l,this.isViciado=!1,this.score=0,this.word="",this.maxProgress=0,this.currentProgress=0,this.gameResult=new Array,this.counter=0}ngOnInit(){this.checkSettings(),this.activatedRoute.queryParams.subscribe(l=>{const n=+l.id,t=JSON.parse(localStorage.getItem("categories"));this.categoryItem=t.find(l=>l.id===n)}),this.whoIsPlaying()}whoIsPlaying(){UIkit.modal.prompt("Name:","").then(l=>{this.player=l||"Anonimo",this.notificate(`Lets play ${this.player}`),this.play()})}play(){this.startCounter(),this.score=0,this.words=this.categoryItem.data||[],this.gameResult=new Array}get secoundsOfGame(){return Math.round(this.settings.modeByTime.time/1e3*100)/100}callGameByMode(){switch(this.settings.gameMode){case i.a.ModeByTime:this.currentProgress=this.maxProgress=this.secoundsOfGame,this.playByTime();break;case i.a.ModeNumberOfWords:this.maxProgress=this.counter=this.settings.modeNumberOfWords.numberOfWords,this.playWithNumberOfWords();break;case i.a.ModeTimeByWord:this.maxProgress=this.counter=this.settings.modeTimeByWord.time,this.playWithTimePerWords(this.words);break;default:this.notificate("Este modo de jogo nao existe!",10)}}startCounter(){const l=["Prepare-se!","3","2","1"];let n=l.length;const t=setInterval(()=>{n>0&&(this.again=!1),this.word=l.shift(),--n<0&&(clearInterval(t),this.callGameByMode())},1e3)}playByTime(){this.word=this.getItem(this.words);const l=setInterval(()=>{0==--this.currentProgress&&(clearInterval(l),this.saveScoreResult())},1e3)}playWithNumberOfWords(){this.word=this.getItem(this.words),this.currentProgress++,this.words=this.words.filter(l=>l!==this.word)}playWithTimePerWords(l){if(!l.length||!this.counter)return this.again=!0,this.word="",void this.computeResult();setTimeout(()=>{this.word=this.getItem(l),this.currentProgress++,this.counter--,this.gameResult.push(new u(this.word,!1)),this.playWithTimePerWords(l.filter(l=>l!==this.word))},+this.settings.modeTimeByWord.time||2e3)}getItem(l){return l[Math.floor(Math.random()*l.length)]}rightAnswer(){this.notificate("Acertou!",1),this.score++,this.gameResult.push(new u(this.word,!0))}incorrectAnswer(){this.notificate("Errou!",1),this.score>0&&this.settings.losePointsWhenWrong&&this.score--,this.gameResult.push(new u(this.word,!1))}computeResult(){UIkit.modal.prompt("Score:","").then(l=>{this.score=+l,this.saveScoreResult()})}checkIsViciado(){this.isViciado=this.score===this.categoryItem.data.length}saveScoreResult(){this.checkIsViciado(),this.word="",this.again=!0;const l={name:this.player,score:this.score},n=JSON.parse(localStorage.getItem("ranking"))||[],t=n.findIndex(n=>n.name===l.name);t>-1?n[t]=l:n.push(l),localStorage.setItem("ranking",JSON.stringify(n))}checkSettings(){this.settings=JSON.parse(localStorage.getItem("settings"))}notificate(l,n=3){UIkit.notification({message:l,status:"primary",pos:"bottom-center",timeout:1e3*n})}handleOrientation(l){let n=l.alpha,t=l.beta,e=l.gamma;this.notificate(`Absolute: ${l.absolute}`,10),this.notificate(`Alpha: ${n}`,10),this.notificate(`Beta: ${t}`,10),this.notificate(`Gamma: ${e}`,10)}handleMotionEvent(l){let n=l.accelerationIncludingGravity.y,t=l.accelerationIncludingGravity.z;this.notificate(`${l.accelerationIncludingGravity.x}`),this.notificate(`${n}`),this.notificate(`${t}`)}onClick(l){const n=l.target,t=n.offsetWidth,e=l.clientX-n.getBoundingClientRect().left;if(!this.again){if(this.words.length||this.saveScoreResult(),this.settings.gameMode===i.a.ModeByTime)this.word=this.getItem(this.words),this.words=this.words.filter(l=>l!==this.word);else{if(!(this.settings.gameMode===i.a.ModeNumberOfWords&&this.counter>0))return void this.saveScoreResult();this.playWithNumberOfWords(),this.counter--}t/2>e?this.rightAnswer():this.incorrectAnswer()}}}class o{}var r=t("pMnS"),a=t("SVse"),c=t("iInd"),h=e.nb({encapsulation:2,styles:[],data:{}});function p(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,0,"progress",[["class","uk-progress"]],[[8,"value",0],[8,"max",0]],null,null,null,null))],null,(function(l,n){var t=n.component;l(n,0,0,e.tb(1,"",t.currentProgress,""),e.tb(1,"",t.maxProgress,""))}))}function d(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,3,"div",[["class","uk-alert-danger"],["uk-alert",""]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,0,"a",[["class","uk-alert-close"],["uk-close",""]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Fb(-1,null,["Parabens voce e um viciado!"]))],null,null)}function g(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,2,"p",[["style","color:white; font-size:30px;"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"del",[],null,null,null,null,null)),(l()(),e.Fb(2,null,["",""]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.word)}))}function m(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"p",[["style","color:white; font-size:30px;"]],null,null,null,null,null)),(l()(),e.Fb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.word)}))}function b(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,4,"li",[["class","uk-margin-left"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,g)),e.ob(2,16384,null,0,a.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,m)),e.ob(4,16384,null,0,a.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.context.$implicit.status),l(n,4,0,!n.context.$implicit.status)}),null)}function f(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,15,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,14,"div",[["class","uk-padding"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,3,"h4",[["style","color:white; font-size:30px;"]],null,null,null,null,null)),(l()(),e.pb(3,0,null,null,0,"span",[["uk-icon","star"]],null,null,null,null,null)),(l()(),e.Fb(4,null,[" "," fez "," ponto(s) "])),(l()(),e.pb(5,0,null,null,0,"span",[["uk-icon","star"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,d)),e.ob(7,16384,null,0,a.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(8,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.pb(9,0,null,null,3,"div",[["class","uk-panel uk-panel-scrollable"]],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,2,"ul",[["class","uk-list"]],null,null,null,null,null)),(l()(),e.eb(16777216,null,null,1,null,b)),e.ob(12,278528,null,0,a.h,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(l()(),e.pb(13,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.pb(14,0,null,null,1,"button",[["class","uk-button uk-button-primary uk-width-1-1 uk-button-large"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.play()&&e),e}),null,null)),(l()(),e.Fb(-1,null,[" JOGAR NOVAMENTE "]))],(function(l,n){var t=n.component;l(n,7,0,t.isViciado),l(n,12,0,t.gameResult)}),(function(l,n){var t=n.component;l(n,4,0,t.player,t.score)}))}function k(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,15,"div",[["class","uk-inline"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onClick(t)&&e),e}),null,null)),(l()(),e.pb(1,0,null,null,5,"div",[["class","uk-overlay uk-light uk-position-top-right"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e.Ab(l,3).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u}),null,null)),e.ob(3,671744,null,0,c.n,[c.k,c.a,a.g],{routerLink:[0,"routerLink"]},null),e.Bb(4,1),(l()(),e.pb(5,0,null,null,0,"span",[["uk-icon","sign-out"]],null,null,null,null,null)),(l()(),e.Fb(-1,null,[" Sair"])),(l()(),e.pb(7,0,null,null,0,"img",[["alt",""],["src","../../../WhoAmI/assets/images/others/cover.png"]],null,null,null,null,null)),(l()(),e.pb(8,0,null,null,7,"div",[["class","uk-flex uk-flex-center uk-flex-middle"]],null,null,null,null,null)),(l()(),e.pb(9,0,null,null,6,"div",[["class","uk-position-center"]],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,1,"p",[["style","color:white; font-size:100px;"]],null,null,null,null,null)),(l()(),e.Fb(11,null,[" "," "])),(l()(),e.eb(16777216,null,null,1,null,p)),e.ob(13,16384,null,0,a.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.eb(16777216,null,null,1,null,f)),e.ob(15,16384,null,0,a.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component,e=l(n,4,0,"/home");l(n,3,0,e),l(n,13,0,!t.again),l(n,15,0,t.again)}),(function(l,n){var t=n.component;l(n,2,0,e.Ab(n,3).target,e.Ab(n,3).href),l(n,11,0,t.word)}))}function y(l){return e.Gb(0,[(l()(),e.pb(0,0,null,null,1,"app-game",[],null,null,null,k,h)),e.ob(1,114688,null,0,s,[c.a],null,null)],(function(l,n){l(n,1,0)}),null)}var w=e.lb("app-game",s,y,{},{},[]);t.d(n,"AppGameModuleNgFactory",(function(){return v}));var v=e.mb(o,[],(function(l){return e.yb([e.zb(512,e.j,e.X,[[8,[r.a,w]],[3,e.j],e.v]),e.zb(4608,a.k,a.j,[e.s,[2,a.r]]),e.zb(1073742336,a.b,a.b,[]),e.zb(1073742336,c.o,c.o,[[2,c.t],[2,c.k]]),e.zb(1073742336,o,o,[]),e.zb(1024,c.i,(function(){return[[{path:"",component:s}]]}),[])])}))}}]);