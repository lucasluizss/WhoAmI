(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Vuud:function(t,n,l){"use strict";l.r(n);var e=l("8Y7J");class i{constructor(t){this.activatedRoute=t,this.score=0,this.item="",this.maxProgress=0,this.currentProgress=0,this.counter=0}ngOnInit(){window.addEventListener("devicemotion",this.handleMotionEvent,!0),window.DeviceOrientationEvent?window.addEventListener("deviceorientation",this.handleOrientation):this.notificate("DeviceOrientationEvent is not supported"),this.checkSettings(),this.activatedRoute.queryParams.subscribe(t=>{const n=+t.id,l=JSON.parse(localStorage.getItem("categories"));this.categoryItem=l.find(t=>t.id===n)}),this.whoIsPlaying()}whoIsPlaying(){UIkit.modal.prompt("Name:","").then(t=>{this.player=t||"Anonymous",this.notificate(`Lets play ${t}`),this.play(this.categoryItem)})}play(t){this.score=0,this.items=t.data||[],this.maxProgress=this.counter=this.settings.numberOfWords,this.again=!1,this.settings.playWithTime?this.showItemsWithTime(this.items):this.showItems()}showItems(){this.item=this.getItem(this.items),this.currentProgress++,this.items=this.items.filter(t=>t!==this.item)}showItemsWithTime(t){if(!t.length||!this.counter)return this.again=!0,this.item="",void this.computeResult();setTimeout(()=>{this.item=this.getItem(t),this.currentProgress++,this.counter--,this.showItemsWithTime(t.filter(t=>t!==this.item))},+this.settings.time||2e3)}getItem(t){return t[Math.floor(Math.random()*t.length)]}rightAnswer(){this.notificate("Acertou!",1),this.score++}incorrectAnswer(){this.notificate("Errou!",1),this.score>0&&this.score--}computeResult(){UIkit.modal.prompt("Score:","").then(t=>{this.score=+t,this.saveScoreResult()})}saveScoreResult(){const t={name:this.player,score:this.score},n=JSON.parse(localStorage.getItem("ranking"))||[],l=n.findIndex(n=>n.name===t.name);l>-1?n[l]=t:n.push(t),localStorage.setItem("ranking",JSON.stringify(n))}checkSettings(){this.settings=JSON.parse(localStorage.getItem("settings"))}notificate(t,n=3){UIkit.notification({message:t,status:"primary",pos:"bottom-center",timeout:1e3*n})}handleOrientation(t){let n=t.alpha,l=t.beta,e=t.gamma;this.notificate(`Absolute: ${t.absolute}`,10),this.notificate(`Alpha: ${n}`,10),this.notificate(`Beta: ${l}`,10),this.notificate(`Gamma: ${e}`,10)}handleMotionEvent(t){let n=t.accelerationIncludingGravity.y,l=t.accelerationIncludingGravity.z;this.notificate(`${t.accelerationIncludingGravity.x}`),this.notificate(`${n}`),this.notificate(`${l}`)}onClick(t){const n=t.target,l=n.offsetWidth,e=t.clientX-n.getBoundingClientRect().left;if(!(this.counter>0))return this.again=!0,this.item="",void this.saveScoreResult();this.showItems(),this.counter--,l/2>e?this.rightAnswer():this.incorrectAnswer()}}class s{}var u=l("pMnS"),o=l("iInd"),r=l("SVse"),a=e.nb({encapsulation:2,styles:[],data:{}});function c(t){return e.Gb(0,[(t()(),e.pb(0,0,null,null,0,"progress",[["class","uk-progress"]],[[8,"value",0],[8,"max",0]],null,null,null,null))],null,(function(t,n){var l=n.component;t(n,0,0,e.tb(1,"",l.currentProgress,""),e.tb(1,"",l.maxProgress,""))}))}function h(t){return e.Gb(0,[(t()(),e.pb(0,0,null,null,1,"button",[["class","uk-button uk-button-primary uk-button-large"]],null,[[null,"click"]],(function(t,n,l){var e=!0,i=t.component;return"click"===n&&(e=!1!==i.play(i.categoryItem)&&e),e}),null,null)),(t()(),e.Fb(-1,null,[" JOGAR NOVAMENTE "]))],null,null)}function m(t){return e.Gb(0,[(t()(),e.pb(0,0,null,null,15,"div",[["class","uk-inline"]],null,[[null,"click"]],(function(t,n,l){var e=!0;return"click"===n&&(e=!1!==t.component.onClick(l)&&e),e}),null,null)),(t()(),e.pb(1,0,null,null,5,"div",[["class","uk-overlay uk-light uk-position-top-right"]],null,null,null,null,null)),(t()(),e.pb(2,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,n,l){var i=!0;return"click"===n&&(i=!1!==e.Ab(t,3).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),null,null)),e.ob(3,671744,null,0,o.n,[o.k,o.a,r.g],{routerLink:[0,"routerLink"]},null),e.Bb(4,1),(t()(),e.pb(5,0,null,null,0,"span",[["uk-icon","sign-out"]],null,null,null,null,null)),(t()(),e.Fb(-1,null,[" Sair"])),(t()(),e.pb(7,0,null,null,0,"img",[["alt",""],["src","../../../WhoAmI/assets/images/others/cover.png"]],null,null,null,null,null)),(t()(),e.pb(8,0,null,null,7,"div",[["class","uk-flex uk-flex-center uk-flex-middle"]],null,null,null,null,null)),(t()(),e.pb(9,0,null,null,6,"div",[["class","uk-position-center"]],null,null,null,null,null)),(t()(),e.pb(10,0,null,null,1,"p",[["style","color:white; font-size:100px;"]],null,null,null,null,null)),(t()(),e.Fb(11,null,[" "," "])),(t()(),e.eb(16777216,null,null,1,null,c)),e.ob(13,16384,null,0,r.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(t()(),e.eb(16777216,null,null,1,null,h)),e.ob(15,16384,null,0,r.i,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(t,n){var l=n.component,e=t(n,4,0,"/");t(n,3,0,e),t(n,13,0,!l.again),t(n,15,0,l.again)}),(function(t,n){var l=n.component;t(n,2,0,e.Ab(n,3).target,e.Ab(n,3).href),t(n,11,0,l.item)}))}function g(t){return e.Gb(0,[(t()(),e.pb(0,0,null,null,1,"app-game",[],null,null,null,m,a)),e.ob(1,114688,null,0,i,[o.a],null,null)],(function(t,n){t(n,1,0)}),null)}var p=e.lb("app-game",i,g,{},{},[]);l.d(n,"AppGameModuleNgFactory",(function(){return b}));var b=e.mb(s,[],(function(t){return e.yb([e.zb(512,e.j,e.X,[[8,[u.a,p]],[3,e.j],e.v]),e.zb(4608,r.k,r.j,[e.s,[2,r.r]]),e.zb(1073742336,r.b,r.b,[]),e.zb(1073742336,o.o,o.o,[[2,o.t],[2,o.k]]),e.zb(1073742336,s,s,[]),e.zb(1024,o.i,(function(){return[[{path:"",component:i}]]}),[])])}))}}]);